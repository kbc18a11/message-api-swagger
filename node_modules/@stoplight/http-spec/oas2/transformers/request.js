"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.translateToRequest = void 0;
const params_1 = require("./params");
function translateToRequest(document, parameters, consumes) {
    const bodyParameters = parameters.filter((p) => p.in === 'body');
    const formDataParameters = parameters.filter((p) => p.in === 'formData');
    const request = {};
    if (!!bodyParameters.length) {
        request.body = params_1.translateToBodyParameter(document, bodyParameters[0], consumes);
    }
    else if (!!formDataParameters.length) {
        request.body = params_1.translateFromFormDataParameters(document, formDataParameters, consumes);
    }
    return parameters.reduce(createReduceRemainingParameters(document), request);
}
exports.translateToRequest = translateToRequest;
function createReduceRemainingParameters(document) {
    return function (request, parameter) {
        if (parameter.in === 'query') {
            const queryParameter = params_1.translateToQueryParameter(document, parameter);
            request.query = (request.query || []).concat(queryParameter);
        }
        else if (parameter.in === 'path') {
            const pathParameter = params_1.translateToPathParameter(document, parameter);
            request.path = (request.path || []).concat(pathParameter);
        }
        else if (parameter.in === 'header') {
            const headerParameter = params_1.translateToHeaderParam(document, parameter);
            request.headers = (request.headers || []).concat(headerParameter);
        }
        return request;
    };
}
//# sourceMappingURL=request.js.map